---
title: 密码安全
date: 2016-05-16
category: Others
tags: Others
---

本文参考 [如何保证用户登录时提交密码已经加密？](https://www.zhihu.com/question/20060155) 下的回答整理而成。

# 安全隐患
- 输入安全：在木马横行的年代，密码在加密提交前可能就被拿到了，这是为什么国内流行密码控件的一个重要原因。
- 传输安全：最理想的方案当然是走 HTTPS 协议. HTTPS 在理论上是可靠的，但在国内会打一些折扣：你可以随便找一台电脑看看有没有安装商业公司或机构的根证书，这些根证书为线路某节点成为中间人提供了可能性。
- 服务端/数据库安全：服务端数据库通过 md5(salt+md5(password)) 的规则存储密码，该 salt 仅存储在服务端，且在每次存储密码时都随机生成。这样即使被拖库，制作字典的成本也非常高。

# 最佳实践
## 安全性要求不高的个人网站
- 客户端加密：md5(password) —— 只是简单保护了密码，是可能被查表获取密码
- 服务端/数据库加密： md5(salt + md5(password)) —— salt 仅存储在服务端，且在每次存储密码时都随机生成

问题：
1. 客户端实际提交的密码就是 md5(password)，只要获取这个md5之后的值不就等于获取密码了吗？ —— 如果密码一样加密结果也会一样，那么在不使用原文的情况下，可以使用加密过后的数据来模拟用户登录的动作也是可以的，所以纯粹对密码的加密其实不能解决这个问题，所以有了盐值，让同一个数据在不同情况下结果依旧不一致，但是盐值需要约定，总会被人找出规律，只是成本又高了点，所以还是不安全，这就引发了通讯安全的问题。
2. ...

其他方案
- 客户端：md5(salt + md5(password)) —— salt 使用服务端给的随机串
- 服务端：md5(salt + 数据库密码)
- 数据库：md5(password)

# 其他问题
## 密码复制
- [网站登录密码在什么情况下适用于允许复制粘贴，什么情况下适用于要求必须手打输入？](https://www.zhihu.com/question/26486788)

# 参考文献
- [如何保证用户登录时提交密码已经加密？](https://www.zhihu.com/question/20060155)
